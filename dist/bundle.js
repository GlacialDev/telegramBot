!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=9)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=d(n(3)),r=d(n(11)),a=d(n(12)),u=d(n(13));function d(e){return e&&e.__esModule?e:{default:e}}var i=n(15),s=n(16),l=new(n(17))(o.default.cloudConvertApiKey),f=(0,r.default)();f.use(a.default.json()),f.use(a.default.urlencoded({extended:!0}));var c={creator:353140575,groupChat:-307924393,bot:new i(o.default.token,{polling:!0}),dialogflow:s(o.default.dialogFlowClientAccessToken),https:n(18),fs:n(19),cloudconvert:l,server:f,db:u.default};t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=e.from.id,n=o.default.authorizedUsers,r=0;r<n.length;r++)if(t===n[r])return!0};var o=function(e){return e&&e.__esModule?e:{default:e}}(n(3))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=e.from.id,n=o.default.adminUsers,r=0;r<n.length;r++)if(t===n[r])return!0};var o=function(e){return e&&e.__esModule?e:{default:e}}(n(3))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={token:"677636140:AAGpdZz5T7I6ws80LuKmRG_I5--rri7_7wg",azureKey:"15481db916bb49d69e21b902504e2f01",dialogFlowClientAccessToken:"259c37cc2f6c4ce0bfb3e9c6f32c8278",cloudConvertApiKey:"lUO5Do6hUT6BDOFmvjURbatS7fqg2fMNFak8gh8pJBX9bAfwC6JJLma87OrdXcs7",authorizedUsers:[353140575,393997393,107782488,261095117],adminUsers:[353140575],canadianEroId:-0xe923b34aac}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(0)),r=i(n(29)),a=i(n(8)),u=i(n(5)),d=i(n(3));function i(e){return e&&e.__esModule?e:{default:e}}var s=o.default.bot,l=o.default.fs,f={channelId:d.default.canadianEroId,eroTimer:null,eroInterval:72e5,eroTimerStateFlag:"enabled",ero_how_much:function(e){var t=null,n=null;l.readFile("./data/eroTimer/ero.txt","utf8",function(e,r){if(e)throw e;t=r.split(" "),n=t.length,s.sendMessage(o.default.creator,"У меня в запасе осталось "+n+" картинок")})},ero_set_timer:function(e,t){var n=t[1];n<1?s.sendMessage(e.chat.id,"Нельзя ставить время меньше 1 часа"):((0,r.default)(f.eroTimer),f.eroInterval=36e5*n,f.eroTimerStateFlag="enabled",f.eroTimer=setTimeout(function(){(0,a.default)("./data/eroTimer/ero.txt").then(function(e){var t=u.default.createReaction();s.sendPhoto(d.default.canadianEroId,e,t.options)},function(e){return s.sendMessage(o.default.creator,e)})},f.eroInterval),s.sendMessage(o.default.creator,"Буду присылать картинки каждые "+n+" часов"))},ero_stop_timer:function(e){(0,r.default)(f.eroTimer),f.eroTimerStateFlag="disabled",s.sendMessage(o.default.creator,"Таймер картинок остановлен")},ero_add_more:function(e){l.readFile("./data/download/savefrom.txt","utf8",function(e,t){if(e)throw e;var n=t;l.appendFile("./data/eroTimer/ero.txt",n+" ",function(e){if(e)throw e;l.readFile("./data/eroTimer/ero.txt","utf8",function(e,t){if(e)throw e;var n=t.replace(/\s+/g," ");l.writeFile("./data/eroTimer/ero.txt",n,function(e){if(e)throw e;s.sendMessage(o.default.creator,"Перемещение закончено")})})}),l.writeFile("./data/download/savefrom.txt","",function(e){if(e)throw e})})},eroTimerInit:function(){var e=new Date,t=+e,n=e.getHours();e.setHours(n+1),e.setMinutes(0),e.setSeconds(0);var r=+e-t,i=e.getMinutes()<10?"0":"",l=e.getHours()+3,c=l>24?l-24:l,_=c<10?"0":"";s.sendMessage(o.default.creator,"Картинки будут присланы в "+_+c+":"+i+e.getMinutes()+", далее с интервалом в "+f.eroInterval/36e5+" ч."),setTimeout(function(){(0,a.default)("./data/eroTimer/ero.txt").then(function(e){var t=u.default.createReaction();s.sendPhoto(d.default.canadianEroId,e,t.options)},function(e){return s.sendMessage(o.default.creator,e)}),f.eroTimer=setInterval(function(){(0,a.default)("./data/eroTimer/ero.txt").then(function(e){var t=u.default.createReaction();s.sendPhoto(d.default.canadianEroId,e,t.options)},function(e){return s.sendMessage(o.default.creator,e)})},f.eroInterval)},r)}};t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=l(n(0)),r=l(n(7)),a=l(n(30)),u=l(n(31)),d=l(n(32)),i=l(n(33)),s=l(n(34));function l(e){return e&&e.__esModule?e:{default:e}}(0,i.default)(),(0,s.default)();var f=o.default.bot,c={createPoll:function(e,t){for(var n=(0,r.default)(15),o=[],u=[],d=0;d<t.length;d++){o[d]=0;var i={text:t[d]+" - "+o[d],callback_data:"poll_"+n+"_"+d};u[d]=[i]}var s={reply_markup:JSON.stringify({inline_keyboard:u}),parse_mode:"Markdown"},l={id:n,title:e,answers:t,votes:{votedUsers:[],votedUsersAnswer:[],votesAmount:o}},f={headers:{"Content-Type":"application/json"},body:JSON.stringify(l)};return a.default.post("http://localhost:3012/pollstore",f),{pollObject:l,options:s}},updatePoll:function(e,t){var n=t[1],o=t[2],r=e.from.id,d=[];u.default.get("http://localhost:3012/pollstore/"+n).then(function(t){var u=(t=JSON.parse(t)).votes,i=u.votedUsers,s=u.votedUsersAnswer,l=u.votesAmount,c=t.answers,_=t.title;if(i.includes(r)){var v=i.indexOf(r),p=s[v];p==o?(i.splice(v,1),s.splice(v,1),l[p]--):(i.splice(v,1),s.splice(v,1),l[p]--,i.push(r),s.push(o),l[o]++)}else i.push(r),s.push(o),l[o]++;for(var b=0;b<c.length;b++){var g={text:c[b]+" - "+l[b],callback_data:"poll_"+n+"_"+b};d[b]=[g]}var m={reply_markup:JSON.stringify({inline_keyboard:d})},h=e.message.message_id,M=e.message.chat.id;f.editMessageText(_,{message_id:h,chat_id:M,parse_mode:"Markdown",reply_markup:m.reply_markup});var y={headers:{"Content-Type":"application/json"},body:JSON.stringify({title:_,answers:c,votes:{votedUsers:i,votedUsersAnswer:s,votesAmount:l}})};a.default.put("http://localhost:3012/pollstore/"+n,y)})},createReaction:function(){for(var e=(0,r.default)(16),t=[],n=[d.default.get(":+1:"),d.default.get(":-1:")],o=[],u=[],i=0;i<n.length;i++){t[i]=0;var s={text:n[i]+" "+t[i],callback_data:"reaction_"+e+"_"+i};u.push(s)}o.push(u);var l={reply_markup:JSON.stringify({inline_keyboard:o}),parse_mode:"Markdown"},f={id:e,answers:n,votes:{votedUsers:[],votedUsersAnswer:[],votesAmount:t}},c={headers:{"Content-Type":"application/json"},body:JSON.stringify(f)};return a.default.post("http://localhost:3012/reactionstore",c),{reactionObject:f,options:l}},updateReaction:function(e,t){var n=t[1],o=t[2],r=e.from.id,d=[];u.default.get("http://localhost:3012/reactionstore/"+n).then(function(t){var u=(t=JSON.parse(t)).votes,i=u.votedUsers,s=u.votedUsersAnswer,l=u.votesAmount,c=t.answers;if(i.includes(r)){var _=i.indexOf(r),v=s[_];v==o?(i.splice(_,1),s.splice(_,1),l[v]--):(i.splice(_,1),s.splice(_,1),l[v]--,i.push(r),s.push(o),l[o]++)}else i.push(r),s.push(o),l[o]++;for(var p=[],b=0;b<c.length;b++){var g={text:c[b]+" "+l[b],callback_data:"reaction_"+n+"_"+b};p.push(g)}d.push(p);var m={reply_markup:JSON.stringify({inline_keyboard:d})},h=e.message.message_id,M=e.message.chat.id;f.editMessageReplyMarkup(m.reply_markup,{chat_id:M,message_id:h});var y={headers:{"Content-Type":"application/json"},body:JSON.stringify({answers:c,votes:{votedUsers:i,votedUsersAnswer:s,votesAmount:l}})};a.default.put("http://localhost:3012/reactionstore/"+n,y)})}};t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){return e&&e.__esModule?e:{default:e}}(n(0));var r=o.default.bot,a=o.default.fs,u=o.default.cloudconvert,d={flag:"enabled",fileName:"",setFlag:function(e,t){d.flag=t[1];var n="";switch(d.flag){case"enabled":n="Загрузка файлов разрешена";break;case"disabled":n="Загрузка файлов запрещена"}r.sendMessage(e.chat.id,n)},upload:function(e){if("enabled"==d.flag)return r.sendMessage(e.chat.id,"Готов загрузить файл на сервер"),new Promise(function(e,t){r.on("document",function(n){d.fileName=n.document.file_name;r.downloadFile(n.document.file_id,"./data/download/").then(function(n){a.rename(n,"./data/download/"+d.fileName,function(e,n){e&&"ENOENT"!=e.code&&(console.log(e),t())}),e()},function(e){console.log(e),t()})})});r.sendMessage(e.chat.id,"Загрузка файлов запрещена")},convert:function(e,t){for(var n=d.fileName,o=n.split(/\./),i="",s=0;s<o.length-1;s++)i=i+o[s]+".";var l=o[o.length-1],f=t[1],c=i+f;r.sendMessage(e.chat.id,"Приступаю к конвертированию, придется немного подождать"),a.createReadStream("./data/download/"+n).pipe(u.convert({inputformat:l,outputformat:f})).pipe(a.createWriteStream("./data/converted/"+c)).on("finish",function(){r.sendDocument(e.chat.id,"./data/converted/"+c),n=""}).on("error",function(t){t&&console.log(t),r.sendMessage(e.chat.id,"Случилась какая-то ошибка. Вероятнее всего, кончилось время конвертации")})}};t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){t=t||"abcdefghijklmnopqrstuvwxyz0123456789";for(var n="",o=0;o<e;o++){var r=Math.floor(Math.random()*t.length);n+=t.substring(r,r+1)}return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return new Promise(function(t,n){o.readFile(e,"utf8",function(r,a){if(r)throw r;var u=a.split(" "),d=u.shift();""==d&&n("Картинки кончились :(");var i=u.join(" ");o.writeFile(e,i,function(e){if(e)throw e}),t(d)})})};var o=function(e){return e&&e.__esModule?e:{default:e}}(n(0)).default.fs},function(e,t,n){"use strict";var o=w(n(10)),r=w(n(20)),a=w(n(21)),u=w(n(22)),d=w(n(23)),i=w(n(24)),s=w(n(25)),l=w(n(26)),f=w(n(27)),c=w(n(28)),_=w(n(35)),v=w(n(36)),p=w(n(37)),b=w(n(38)),g=w(n(39)),m=w(n(40)),h=w(n(41)),M=w(n(42)),y=w(n(43)),O=w(n(44)),x=w(n(46));function w(e){return e&&e.__esModule?e:{default:e}}(0,o.default)(),(0,r.default)(),(0,a.default)(),(0,u.default)(),(0,d.default)(),(0,i.default)(),(0,s.default)(),(0,l.default)(),(0,f.default)(),(0,c.default)(),(0,_.default)(),(0,v.default)(),(0,p.default)(),(0,b.default)(),(0,g.default)(),(0,m.default)(),(0,h.default)(),(0,M.default)(),(0,y.default)();(0,O.default)(!1),(0,x.default)()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){d.onText(/\/help/,function(e){if(1==(0,r.default)(e)){var t="Привет, "+e.from.first_name+'. Имеются следующие команды:\n\n- /admin_help - админ-команды (доступна админам)\n- /settings - настройки и флаги бота\n- /echo (текст) - повторяет текст\n- /id - выдает id группового чата и ваш\n- /send_photo (url-ссылка на картинку) - пишете команду боту в лс, он шлет фото, размещенное по ссылке, в группу\n- /send_to (id) (текст) - пишете боту в лс id адресата и текст сообщения. При условии, что человек прописал у бота /start, ему придет сообщение с текстом от имени бота\n- /how_much_ero - посмотреть сколько картинок осталось в очереди в таймере\n- /roll - выбросить число от 0 до 100\n- /roll (число1) (число2) - выбросить число от (числа1) до (числа2)\n- /remind_me (текст) через (число) (минут/дней/часов - можно в любом склонении) - напомнит вам в личку через заданное время то что вы написали в (тексте), при условии, что вы прописали у бота /start\n- /pass_gen (число) - генерирует пароль длиной в (число) символов\n- /convert_to (расширение без точки) - конвертирует файл, который вы загрузите боту, в указанное расширение. Например: /convert_to pdf\n- /poll (вопрос) - (варианты ответа через "/"). Пример: /poll опрос работает? - да/нет/не знаю/может быть\n- !бот, (текст) - поговорить с ботом';d.sendMessage(e.chat.id,t)}}),d.onText(/\/admin_help/,function(e){if(1==(0,a.default)(e)){var t="Привет, "+e.from.first_name+". Имеются следующие команды:\n\n- /set_ero_timer (время) - установить таймер отсылки картинок, время в часах\n- /stop_ero_timer - остановить таймер отсылки картинок\n- /add_more_ero - из savefrom списка в список таймера\n- /upload_(enabled/disabled)  - вкл./откл. возможность загрузки файлов на сервер";d.sendMessage(e.chat.id,t)}})};var o=u(n(0)),r=u(n(1)),a=u(n(2));function u(e){return e&&e.__esModule?e:{default:e}}var d=o.default.bot},function(e,t){e.exports=require("express")},function(e,t){e.exports=require("body-parser")},function(e,t,n){"use strict";var o=n(14).MongoClient,r={db:null};t.connect=function(e,t,n){if(r.db)return n();o.connect(e,function(e,o){if(e)return n(e);r.db=o.db(t),n()})},t.get=function(){return r.db}},function(e,t){e.exports=require("mongodb")},function(e,t){e.exports=require("node-telegram-bot-api")},function(e,t){e.exports=require("apiai")},function(e,t){e.exports=require("cloudconvert")},function(e,t){e.exports=require("https")},function(e,t){e.exports=require("fs")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){u.onText(/\/echo (.+)/,function(e,t){if(1==(0,r.default)(e)){var n=t[1];u.sendMessage(e.chat.id,n)}})};var o=a(n(0)),r=a(n(1));function a(e){return e&&e.__esModule?e:{default:e}}var u=o.default.bot},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){u.onText(/\/id/,function(e){1==(0,r.default)(e)&&(u.sendMessage(e.chat.id,e.chat.id+" - id этого чата"),u.sendMessage(e.chat.id,e.from.id+" - а это ваш id"))})};var o=a(n(0)),r=a(n(1));function a(e){return e&&e.__esModule?e:{default:e}}var u=o.default.bot},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){u.onText(/\/send_to (\-[0-9]+|[0-9]+) (\S+.*)/,function(e,t){if(1==(0,r.default)(e)){var n=t[1],o=t[2];u.sendMessage(n,o)}})};var o=a(n(0)),r=a(n(1));function a(e){return e&&e.__esModule?e:{default:e}}var u=o.default.bot},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){u.onText(/\/send_photo (https?:\/\/\S+)/,function(e,t){if(1==(0,r.default)(e)){var n=t[1];u.sendPhoto(d,n)}})};var o=a(n(0)),r=a(n(1));function a(e){return e&&e.__esModule?e:{default:e}}var u=o.default.bot,d=o.default.groupChat},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){u.onText(/\/remind_me (.+) через (\d+) (минут|час|день|дня|дней)/,function(e,t){if(1==(0,r.default)(e)){var n=e.from.id,o=e.from.first_name,a=t[1],d=t[2],i=t[3],s=void 0;d<1?u.sendMessage(e.chat.id,"Нельзя ставить значение времени меньше 1. Попробуй поменять размерность"):(s="минут"===i?6e4*d:"час"===i?36e5*d:864e5*d,setTimeout(function(){u.sendMessage(n,o+", ты просил напомнить: "+a)},s),u.sendMessage(e.chat.id,"Хорошо, "+o+", я обязательно напомню... если не забуду"))}})};var o=a(n(0)),r=a(n(1));function a(e){return e&&e.__esModule?e:{default:e}}var u=o.default.bot},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){d.onText(/\/pass_gen ([0-9]+)/,function(e,t){if(1==(0,r.default)(e)){var n=t[1],o=(0,a.default)(n);d.sendMessage(e.chat.id,"Сгенерирован пароль: "+o)}})};var o=u(n(0)),r=u(n(1)),a=u(n(7));function u(e){return e&&e.__esModule?e:{default:e}}var d=o.default.bot},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){u.onText(/(\/roll$)/,function(e){if(1==(0,r.default)(e)){var t=100*Math.random()+0,n=Math.round(t);u.sendMessage(e.chat.id,e.from.first_name+" выбросил "+n)}}),u.onText(/\/roll ([0-9]+) ([0-9]+)/,function(e,t){if(1==(0,r.default)(e)){var n=+t[1],o=+t[2],a=Math.random()*(o-n)+n,d=Math.round(a);u.sendMessage(e.chat.id,e.from.first_name+" выбросил "+d)}})};var o=a(n(0)),r=a(n(1));function a(e){return e&&e.__esModule?e:{default:e}}var u=o.default.bot},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){u.onText(/!бот, (.+)/,function(e,t){if(1==(0,r.default)(e)){var n=t[1],o=e.chat.id;i(n,o)}})};var o=a(n(0)),r=a(n(1));function a(e){return e&&e.__esModule?e:{default:e}}var u=o.default.bot,d=o.default.dialogflow;var i=function(e,t){var n=d.textRequest(e,{sessionId:"Canadian_bot_talk_to_you"});n.on("response",function(e){var n=e.result.fulfillment.speech;""==n&&u.sendMessage(t,"Я не знаю, что тебе на это ответить."),u.sendMessage(t,n)}),n.on("error",function(e){e&&u.sendMessage(t,"Я не могу тебе ответить по техническим причинам."),console.log(e)}),n.end()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){i.onText(/\/settings/,function(e){1==(0,r.default)(e)&&i.sendMessage(e.chat.id,"Настройки:\n- eroInterval: "+a.default.eroInterval/36e5+" ч. - "+a.default.eroTimerStateFlag+"\n- upload: "+u.default.flag)})};var o=d(n(0)),r=d(n(1)),a=d(n(4)),u=d(n(6));function d(e){return e&&e.__esModule?e:{default:e}}var i=o.default.bot},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){clearInterval(e),e=null}},function(e,t){e.exports=require("request")},function(e,t){e.exports=require("request-promise")},function(e,t){e.exports=require("node-emoji")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){r.post("/pollstore",function(e,t){var n={id:e.body.id,title:e.body.title,answers:e.body.answers,votes:e.body.votes};a.get().collection("pollstore").insertOne(n,function(e,n){if(e)return console.log(e),t.sendStatus(500);t.sendStatus(200)})}),r.get("/pollstore/:id",function(e,t){a.get().collection("pollstore").findOne({id:e.params.id},function(e,n){if(e)return console.log(e),t.sendStatus(500);t.send(n)})}),r.put("/pollstore/:id",function(e,t){a.get().collection("pollstore").updateOne({id:e.params.id},{$set:{title:e.body.title,answers:e.body.answers,votes:e.body.votes}},function(e,n){if(e)return console.log(e),t.sendStatus(500);t.sendStatus(200)})})};var o=function(e){return e&&e.__esModule?e:{default:e}}(n(0));var r=o.default.server,a=o.default.db},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){r.post("/reactionstore",function(e,t){var n={id:e.body.id,answers:e.body.answers,votes:e.body.votes};a.get().collection("reactionstore").insertOne(n,function(e,n){if(e)return console.log(e),t.sendStatus(500);t.sendStatus(200)})}),r.get("/reactionstore/:id",function(e,t){a.get().collection("reactionstore").findOne({id:e.params.id},function(e,n){if(e)return console.log(e),t.sendStatus(500);t.send(n)})}),r.put("/reactionstore/:id",function(e,t){a.get().collection("reactionstore").updateOne({id:e.params.id},{$set:{answers:e.body.answers,votes:e.body.votes}},function(e,n){if(e)return console.log(e),t.sendStatus(500);t.sendStatus(200)})})};var o=function(e){return e&&e.__esModule?e:{default:e}}(n(0));var r=o.default.server,a=o.default.db},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){d.onText(/\/upload$/,function(e){1==(0,r.default)(e)&&"enabled"==a.default.flag&&a.default.upload(e).then(function(){return d.sendMessage(e.chat.id,"Файл успешно загружен.")},function(){return d.sendMessage(e.chat.id,"Файл не загрузился, какая-то ошибка.")})})};var o=u(n(0)),r=u(n(1)),a=u(n(6));function u(e){return e&&e.__esModule?e:{default:e}}var d=o.default.bot},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){d.onText(/\/upload_(enabled|disabled)/,function(e,t){1==(0,a.default)(e)?r.default.setFlag(e,t):d.sendMessage(e.chat.id,"Только для посвященных")})};var o=u(n(0)),r=u(n(6)),a=u(n(2));function u(e){return e&&e.__esModule?e:{default:e}}var d=o.default.bot},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){d.onText(/\/convert_to (.+)/,function(e,t){1==(0,r.default)(e)&&a.default.upload(e).then(function(){d.sendMessage(e.chat.id,"Файл успешно загружен."),a.default.convert(e,t)},function(){return d.sendMessage(e.chat.id,"Файл не загрузился, какая-то ошибка.")})})};var o=u(n(0)),r=u(n(1)),a=u(n(6));function u(e){return e&&e.__esModule?e:{default:e}}var d=o.default.bot},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){d.onText(/\/poll (.+) - (.+)/,function(e,t){if(1==(0,r.default)(e)){var n=t[1],o=t[2].split("/"),u=a.default.createPoll(n,o);d.sendMessage(e.chat.id,u.pollObject.title,u.options)}})};var o=u(n(0)),r=u(n(1)),a=u(n(5));function u(e){return e&&e.__esModule?e:{default:e}}var d=o.default.bot},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){d.onText(/\/ero_set_timer ([0-9]+)/,function(e,t){1==(0,r.default)(e)?a.default.ero_set_timer(e,t):d.sendMessage(e.chat.id,"Только для посвященных")})};var o=u(n(0)),r=u(n(2)),a=u(n(4));function u(e){return e&&e.__esModule?e:{default:e}}var d=o.default.bot},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){d.onText(/\/ero_stop_timer/,function(e){1==(0,r.default)(e)?a.default.ero_stop_timer(e):d.sendMessage(e.chat.id,"Только для посвященных")})};var o=u(n(0)),r=u(n(2)),a=u(n(4));function u(e){return e&&e.__esModule?e:{default:e}}var d=o.default.bot},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){d.onText(/\/ero_how_much/,function(e){1==(0,a.default)(e)&&r.default.ero_how_much(e)})};var o=u(n(0)),r=u(n(4)),a=u(n(2));function u(e){return e&&e.__esModule?e:{default:e}}var d=o.default.bot},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){d.onText(/\/ero_add_more/,function(e){1==(0,r.default)(e)&&a.default.ero_add_more(e)})};var o=u(n(0)),r=u(n(2)),a=u(n(4));function u(e){return e&&e.__esModule?e:{default:e}}var d=o.default.bot},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){s.onText(/\/ero_give_img/,function(e){1==(0,a.default)(e)&&(0,r.default)("./data/eroTimer/ero.txt").then(function(e){var t=u.default.createReaction();s.sendPhoto(d.default.canadianEroId,e,t.options)},function(e){return s.sendMessage(o.default.creator,e)})})};var o=i(n(0)),r=i(n(8)),a=i(n(2)),u=i(n(5)),d=i(n(3));function i(e){return e&&e.__esModule?e:{default:e}}var s=o.default.bot},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){d.sendMessage(o.default.creator,"Бот инициализирован. dev-mode: "+e),a.default.initEroTimer(),s.connect("mongodb://localhost:27017","second",function(e){if(e)return console.log(e);i.listen(3012,function(){console.log("API listen started")})}),d.on("callback_query",function(e){var t=e.data.split("_");"poll"==t[0]&&r.default.updatePoll(e,t),"reaction"==t[0]&&r.default.updateReaction(e,t)})};var o=u(n(0)),r=u(n(5)),a=u(n(45));function u(e){return e&&e.__esModule?e:{default:e}}var d=o.default.bot,i=o.default.server,s=o.default.db},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(3)),r=a(n(4));function a(e){return e&&e.__esModule?e:{default:e}}var u={canadianEroId:o.default.canadianEroId,initEroTimer:function(){r.default.eroTimerInit()}};t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){u.onText(/\/test/,function(e,t){(0,r.default)(e)})};var o=a(n(0)),r=a(n(1));function a(e){return e&&e.__esModule?e:{default:e}}var u=o.default.bot}]);